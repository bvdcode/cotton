/**
 * Auto-hide controls in media lightbox gallery
 * 
 * Architecture:
 * - Controls fade out after 2.5s of inactivity
 * - Smoothly reappear on any user interaction (move, click, scroll, touch)
 * - Cursor also hides for immersive viewing experience
 * 
 * Implementation:
 * - useActivityDetection hook tracks user activity
 * - CSS classes control visibility with smooth transitions
 * - Works with all YARL plugins (zoom, video, thumbnails, etc.)
 */

/* Base state: controls visible with smooth transitions */
.lightbox-autohide .yarl__toolbar,
.lightbox-autohide .yarl__navigation_prev,
.lightbox-autohide .yarl__navigation_next,
.lightbox-autohide .media-lightbox__header,
.lightbox-autohide .yarl__slide_description_container {
  opacity: 1;
  pointer-events: auto;
  transition: opacity 0.3s ease-in-out;
}

/* Video slides have vertical padding to prevent controls overlap */
.lightbox-autohide .yarl__slide video {
  padding: 0;
  box-sizing: border-box;
}

/* Edge-to-edge slides: avoid built-in carousel/slide paddings */
.lightbox-autohide .yarl__slide {
  padding: 0;
}

/* Idle state: controls hidden */
.lightbox-autohide--idle .yarl__toolbar,
.lightbox-autohide--idle .yarl__navigation_prev,
.lightbox-autohide--idle .yarl__navigation_next,
.lightbox-autohide--idle .media-lightbox__header,
.lightbox-autohide--idle .yarl__slide_description_container {
  opacity: 0;
  pointer-events: none;
}

/* Keep cursor visible when active */
.lightbox-autohide {
  cursor: default;
}

/* Hide cursor when idle for immersive viewing */
.lightbox-autohide--idle {
  cursor: none;
}

/* Move media metadata (counter • size • name) to the top-left. */
.lightbox-autohide .media-lightbox__header {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: auto;
  padding: 8px;
  height: 40px;
  display: flex;
  align-items: center;

  /* Leave space for the toolbar buttons on the right */
  padding-right: 220px;
  pointer-events: none;
  z-index: 1;
  text-align: left;

  font-weight: 500;
  font-size: 0.95rem;
  line-height: 1.2;

  /* Keep title on a single line and truncate if too long */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.lightbox-autohide .media-lightbox__counter,
.lightbox-autohide .media-lightbox__meta {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.lightbox-autohide .media-lightbox__meta {
  min-width: 0;
}

/* Ensure inner title text truncates cleanly (selector tolerant if class exists) */
.lightbox-autohide .yarl__slide_title_container .yarl__slide_title {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Mobile: keep only the counter */
@media (max-width: 600px) {
  .lightbox-autohide .media-lightbox__meta {
    display: none;
  }
}

@media (max-width: 900px) {
  .lightbox-autohide .media-lightbox__header {
    padding-right: 180px;
  }
}

.lightbox-autohide .yarl__slide_description_container {
  display: none;
}
